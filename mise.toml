[tools]
cargo = "latest"
rust = "latest"

[tasks.test]
description = "Run tests"
run = "cargo test"

[tasks.test-coverage]
description = "Run tests with coverage"
run = "cargo llvm-cov --html"

[tasks.clippy]
description = "Run clippy with auto-fix"
run = "cargo clippy --fix --allow-dirty --allow-staged -- -D warnings"

[tasks.fmt]
description = "Format code"
run = "cargo fmt"

[tasks.check]
description = "Run cargo check"
run = "cargo check"

# Git hooks - pre-commit runs auto-fix commands
[git.hooks.pre-commit]
run = [
  "fmt",
  "clippy",
  "test"
]
